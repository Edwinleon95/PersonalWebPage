---
import GitHub from "./icons/GitHub.astro";
import Link from "./icons/Link.astro";
import { PROJECTS } from "../data/projects";
import SocialPill from "./SocialPill.astro";
---

<div class="flex flex-col gap-y-16">
    {
        PROJECTS.map(
            ({ image, title, description, link, github, features }) => (
                <article class="flex flex-col md:flex-row gap-8 group hover:!opacity-100 !opacity-90 transition-opacity duration-300">
                    {/* Image Container */}
                    <div class="w-full md:w-1/2 h-64 md:h-80 relative">
                        <div class="relative h-full overflow-hidden rounded-2xl shadow-lg border border-gray-300 dark:border-gray-700/50 bg-gradient-to-br from-gray-100/50 to-gray-200/30 dark:from-gray-900/50 dark:to-gray-800/30 transition-all duration-500 group-hover:border-gray-400/70 dark:group-hover:border-gray-600/70 group-hover:bg-gray-200/20 dark:group-hover:bg-gray-800/20">
                            <img
                                alt={title}
                                class="absolute inset-0 w-full h-full object-cover object-center transition-transform duration-700 ease-[cubic-bezier(0.19,1,0.22,1)] group-hover:scale-[1.02]"
                                loading="lazy"
                                src={image}
                            />
                            <div class="absolute inset-0 bg-gradient-to-t from-gray-900/10 via-gray-900/5 to-transparent dark:from-gray-900/70 dark:via-gray-900/20" />
                        </div>
                    </div>

                    {/* Content Container */}
                    <div class="w-full md:w-1/2 flex flex-col justify-between py-2">
                        <div>
                            <h3 class="text-3xl font-bold text-gray-800 dark:text-gray-100 tracking-tight">
                                {title}
                            </h3>

                            <p class="mt-3 text-gray-600 dark:text-gray-300 leading-relaxed">
                                {description}
                            </p>

                            {features && features.length > 0 && (
                                <ul class="mt-5 space-y-3">
                                    {features.map((feature) => (
                                        <li class="flex items-start gap-3 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300 transition-colors">
                                            <span class="text-blue-500 dark:text-blue-400 mt-1.5">
                                                <svg
                                                    width="6"
                                                    height="6"
                                                    viewBox="0 0 24 24"
                                                    fill="currentColor"
                                                >
                                                    <path d="M12 2L2 12L12 22L22 12L12 2Z" />
                                                </svg>
                                            </span>
                                            <span>{feature}</span>
                                        </li>
                                    ))}
                                </ul>
                            )}
                        </div>

                        <footer class="flex items-center gap-3 mt-6">
                            {github && (
                                <SocialPill href={github}>
                                    <GitHub class="w-5 h-5" />
                                    <span>View Code</span>
                                </SocialPill>
                            )}
                            {link && (
                                <SocialPill href={link}>
                                    <Link class="w-5 h-5" />
                                    <span>Live Demo</span>
                                </SocialPill>
                            )}
                        </footer>
                    </div>
                </article>
            ),
        )
    }
</div>

<style>
    /* Smooth image scaling */
    img {
        will-change: transform;
        backface-visibility: hidden;
    }

    /* Better list item alignment */
    li > span {
        display: inline-block;
        min-width: 1.25rem;
    }
</style>
