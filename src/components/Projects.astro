---
import GitHub from "./icons/GitHub.astro";
import Link from "./icons/Link.astro";
import { PROJECTS } from "../data/projects"; // Ensure this import is correct
import SocialPill from "./SocialPill.astro";
---

<div class="flex flex-col gap-y-12">
    {
        PROJECTS.map(
            ({ image, title, description, link, github, features }) => (
                <article class="flex flex-col md:flex-row gap-8 group">
                    <div class="w-full md:w-1/2">
                        <div class="relative flex flex-col items-center shadow-xl overflow-hidden rounded-xl transition-all duration-500 ease-in-out transform md:group-hover:-translate-y-1 md:group-hover:shadow-2xl border border-gray-800 hover:border-gray-700 hover:bg-gray-800/50">
                            <img
                                alt={title}
                                class="object-cover object-top w-full h-56 sm:h-full transition-all duration-500 md:scale-110 md:group-hover:scale-105"
                                loading="lazy"
                                src={image}
                            />
                        </div>
                    </div>

                    <div class="w-full md:w-1/2 max-w-lg flex flex-col justify-between">
                        <h3 class="text-2xl font-bold text-gray-900 dark:text-gray-100">
                            {title}
                        </h3>

                        <p class="mt-2 text-gray-700 dark:text-gray-400 leading-relaxed">
                            {description}
                        </p>

                        {features && features.length > 0 && (
                            <ul class="mt-4 space-y-2 text-gray-700 dark:text-gray-400">
                                {features.map((feature, index) => (
                                    <li class="flex items-start gap-2">
                                        <span class="text-blue-500 dark:text-blue-400">
                                            â€¢
                                        </span>{" "}
                                        {feature}
                                    </li>
                                ))}
                            </ul>
                        )}

                        <footer class="flex items-center gap-4 mt-4">
                            {github && (
                                <SocialPill href={github}>
                                    <GitHub class="w-6 h-6" />
                                    Code
                                </SocialPill>
                            )}
                            {link && (
                                <SocialPill href={link}>
                                    <Link class="w-5 h-5" />
                                    Preview
                                </SocialPill>
                            )}
                        </footer>
                    </div>
                </article>
            ),
        )
    }
</div>
